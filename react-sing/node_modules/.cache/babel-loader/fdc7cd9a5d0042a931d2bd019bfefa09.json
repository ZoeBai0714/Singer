{"ast":null,"code":"var _jsxFileName = \"/Users/xuebai/flatiron/Singer/react-sing/src/App.js\";\nimport React from 'react';\nimport SearchBar from './Component/SearchBar';\nimport SongList from './Component/SongList';\nimport Recorder from './Component/Recorder';\nimport Comment from './Component/Comment';\nimport socketIO from 'socket.io-client';\nconst io = socketIO('localhost:3000/');\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      songIds: [],\n      record: false,\n      handle: \"\",\n      comment: \"\",\n      comments: [] // pass videoIds to songList \n\n    };\n\n    this.songList = songIds => {\n      this.setState({\n        songIds: songIds\n      });\n    };\n\n    this.reaction = e => {\n      e.preventDefault();\n      io.emit('comment', {\n        message: e.target.children[2].value,\n        handle: e.target.children[0].value\n      }); //console.log(e.target.children[0].value)\n\n      io.on('comment', messageData => {\n        this.setState({\n          handle: messageData.handle,\n          message: messageData.message\n        });\n        this.displayComments();\n      });\n    };\n\n    this.displayComments = () => {\n      let comments = this.state.comments;\n      comments.push(messageData);\n      this.setState({\n        comments: comments\n      }); // let chat = document.getElementById('output')\n      // chat.innerHTML += '<p>' + messageData.handle + ':' + messageData.message + '</p>'\n    };\n\n    this.feedback = () => {\n      //io.emit('typing', ()=>{ })\n      let name = this.state.comments[this.state.comments.length - 1].handle;\n      this.setState({\n        feedback: \"\".concat(name, \" is typing ...\")\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(SearchBar, {\n      songList: this.songList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(SongList, {\n      songIds: this.state.songIds,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(Recorder, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(Comment, {\n      reaction: this.reaction,\n      displayComments: this.state.comments,\n      feedback: this.feedback,\n      displayFeedback: this.state.feedback,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;\n/*\n const handleSubmit = (e) =>{\n   e.preventDefault()\n   let request = gapi.client.youtube.search.list({\n     part:\"snippet\",\n     channelId:\"UCwTRjvjVge51X-ILJ4i22ew\",\n     q:e.target.value\n   })\n }\n  const init = () =>{\n   gapi.client.setApiKey(\"AIzaSyBlG_6DX-JMovaElRRI4KqXl_k0KAyHH_0\");\n   gapi.client.load(\"youtube\", \"v3\", function(){\n    })\n}\n */","map":{"version":3,"sources":["/Users/xuebai/flatiron/Singer/react-sing/src/App.js"],"names":["React","SearchBar","SongList","Recorder","Comment","socketIO","io","App","Component","state","songIds","record","handle","comment","comments","songList","setState","reaction","e","preventDefault","emit","message","target","children","value","on","messageData","displayComments","push","feedback","name","length","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,MAAMC,EAAE,GAAGD,QAAQ,CAAC,iBAAD,CAAnB;;AAEA,MAAME,GAAN,SAAkBP,KAAK,CAACQ,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAChCC,KADgC,GACxB;AACNC,MAAAA,OAAO,EAAC,EADF;AAENC,MAAAA,MAAM,EAAC,KAFD;AAGNC,MAAAA,MAAM,EAAC,EAHD;AAINC,MAAAA,OAAO,EAAC,EAJF;AAKNC,MAAAA,QAAQ,EAAC,EALH,CAQR;;AARQ,KADwB;;AAAA,SAU/BC,QAV+B,GAUnBL,OAAD,IAAY;AACtB,WAAKM,QAAL,CAAc;AACZN,QAAAA,OAAO,EAACA;AADI,OAAd;AAGD,KAd+B;;AAAA,SAgBhCO,QAhBgC,GAgBpBC,CAAD,IAAO;AAChBA,MAAAA,CAAC,CAACC,cAAF;AACAb,MAAAA,EAAE,CAACc,IAAH,CAAQ,SAAR,EAAoB;AACjBC,QAAAA,OAAO,EAAEH,CAAC,CAACI,MAAF,CAASC,QAAT,CAAkB,CAAlB,EAAqBC,KADb;AAEjBZ,QAAAA,MAAM,EAAEM,CAAC,CAACI,MAAF,CAASC,QAAT,CAAkB,CAAlB,EAAqBC;AAFZ,OAApB,EAFgB,CAMhB;;AACClB,MAAAA,EAAE,CAACmB,EAAH,CAAM,SAAN,EAAiBC,WAAW,IAAI;AAC7B,aAAKV,QAAL,CAAc;AACZJ,UAAAA,MAAM,EAAEc,WAAW,CAACd,MADR;AAEZS,UAAAA,OAAO,EAAEK,WAAW,CAACL;AAFT,SAAd;AAIA,aAAKM,eAAL;AACF,OAND;AAOF,KA9B+B;;AAAA,SAgChCA,eAhCgC,GAgCd,MAAK;AACrB,UAAIb,QAAQ,GAAG,KAAKL,KAAL,CAAWK,QAA1B;AACIA,MAAAA,QAAQ,CAACc,IAAT,CAAcF,WAAd;AACJ,WAAKV,QAAL,CAAc;AACXF,QAAAA,QAAQ,EAAEA;AADC,OAAd,EAHqB,CAMrB;AACA;AACD,KAxC+B;;AAAA,SA0ChCe,QA1CgC,GA0CrB,MAAK;AACd;AACA,UAAIC,IAAI,GAAG,KAAKrB,KAAL,CAAWK,QAAX,CAAoB,KAAKL,KAAL,CAAWK,QAAX,CAAoBiB,MAApB,GAA4B,CAAhD,EAAmDnB,MAA9D;AACD,WAAKI,QAAL,CAAc;AACZa,QAAAA,QAAQ,YAAKC,IAAL;AADI,OAAd;AAGA,KAhD+B;AAAA;;AAkDhCE,EAAAA,MAAM,GAAE;AACN,WACK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,oBAAC,SAAD;AAAW,MAAA,QAAQ,EAAI,KAAKjB,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,EAEG,oBAAC,QAAD;AAAU,MAAA,OAAO,EAAI,KAAKN,KAAL,CAAWC,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFH,EAGG,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHH,EAIG,oBAAC,OAAD;AAAS,MAAA,QAAQ,EAAI,KAAKO,QAA1B;AAAoC,MAAA,eAAe,EAAI,KAAKR,KAAL,CAAWK,QAAlE;AAA4E,MAAA,QAAQ,EAAI,KAAKe,QAA7F;AAAuG,MAAA,eAAe,EAAI,KAAKpB,KAAL,CAAWoB,QAArI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJH,CADL;AASD;;AA5D+B;;AAgElC,eAAetB,GAAf;AACC","sourcesContent":["import React from 'react';\nimport SearchBar from './Component/SearchBar'\nimport SongList from './Component/SongList'\nimport Recorder from './Component/Recorder'\nimport Comment from './Component/Comment'\nimport socketIO from 'socket.io-client';\nconst io = socketIO('localhost:3000/')\n\nclass App extends React.Component {\n  state = {\n    songIds:[],\n    record:false,\n    handle:\"\",\n    comment:\"\",\n    comments:[]\n  }\n\n  // pass videoIds to songList \n   songList = (songIds) =>{\n    this.setState({\n      songIds:songIds\n    })\n  }\n\n  reaction = (e) => {\n    e.preventDefault()\n    io.emit('comment',  {\n       message: e.target.children[2].value,\n       handle: e.target.children[0].value\n    })\n    //console.log(e.target.children[0].value)\n     io.on('comment', messageData => {\n        this.setState({\n          handle: messageData.handle,\n          message: messageData.message\n        })\n        this.displayComments()     \n     })\n  }\n   \n  displayComments = () =>{\n    let comments = this.state.comments\n        comments.push(messageData)\n    this.setState({\n       comments: comments\n    })\n    // let chat = document.getElementById('output')\n    // chat.innerHTML += '<p>' + messageData.handle + ':' + messageData.message + '</p>'\n  }\n\n  feedback = () =>{\n    //io.emit('typing', ()=>{ })\n    let name = this.state.comments[this.state.comments.length -1].handle\n   this.setState({\n     feedback: `${name} is typing ...`\n   })\n  }\n\n  render(){\n    return(\n         <div>\n            <SearchBar songList = {this.songList}/>\n            <SongList songIds = {this.state.songIds}/>\n            <Recorder />\n            <Comment reaction = {this.reaction} displayComments = {this.state.comments} feedback = {this.feedback} displayFeedback = {this.state.feedback}/>\n         </div>\n        \n    )\n  }\n}\n\n\nexport default App;\n /*\n  const handleSubmit = (e) =>{\n    e.preventDefault()\n    let request = gapi.client.youtube.search.list({\n      part:\"snippet\",\n      channelId:\"UCwTRjvjVge51X-ILJ4i22ew\",\n      q:e.target.value\n    })\n  }\n\n  const init = () =>{\n    gapi.client.setApiKey(\"AIzaSyBlG_6DX-JMovaElRRI4KqXl_k0KAyHH_0\");\n    gapi.client.load(\"youtube\", \"v3\", function(){\n\n    })\n}\n  */"]},"metadata":{},"sourceType":"module"}